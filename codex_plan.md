# ACE-Step 1.5 検証環境構築プラン

## 調査サマリ
- 公式ドキュメントの標準手順は `uv`（`uv sync` → `uv run acestep`）である。
- `ACE-Step-1.5/docs/en/INSTALL.md` には「Python を直接使う方法（Conda / venv / system Python）」も記載されている。
- Colab 固有の公式手順は見当たらない。したがって Colab は「非公式だが実行可能な検証環境」とみなすのが妥当である。

## 方式比較（uv vs Colab Python）
| 観点 | `uv`（推奨） | Colab Python（暫定） |
|---|---|---|
| 公式整合性 | 高い（標準手順） | 低い（公式の Colab 専用手順なし） |
| 再現性 | 高い（ローカル/固定VMで安定） | 低め（ランタイム再起動で環境消失） |
| 初期導入 | 簡単（`uv sync`） | 簡単だがノートブック整備が必要 |
| モデル運用 | 長時間運用向き | 大容量モデル再DLが発生しやすい |
| 検証用途 | 継続検証・実装向き | 単発の動作確認向き |

## 結論
- **第一候補は `uv` ベース環境**にする。理由は、公式手順と一致し、再現性と保守性が高いからである。
- Colab を使う場合でも、`pip` 直運用より **Colab 上で `uv` を使う** 方が手順差分が減り、将来の本番環境移行が容易である。

## 推奨実行プラン
1. `ACE-Step-1.5` を基準環境として固定する（Linux/WSL/クラウドVM）。
2. `uv` でセットアップする。  
   ```bash
   cd ACE-Step-1.5
   uv sync
   uv run acestep
   ```
3. API 検証は以下を使用する。  
   ```bash
   uv run acestep-api
   ```
4. Python バージョンは安定版 3.11 系を使用する（pre-release 3.11.0rc1 は避ける）。

## Colabを選ぶ場合の最小方針
- 目的を「短時間の推論確認」に限定する。
- セッション切断を前提に、依存導入とモデルDLを毎回再実行可能なセル構成にする。
- 可能なら Colab でも `uv` 手順に寄せる（`uv sync` / `uv run ...`）。

## 次アクション提案
- あなたが希望する運用が「継続開発」なら `uv` 基準で進める。
- 「まず1回だけ動作確認」なら Colab で最小検証を先に行い、その後 `uv` 恒久環境へ移す。
